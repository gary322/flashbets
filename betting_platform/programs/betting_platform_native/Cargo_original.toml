[package]
name = "betting_platform_native"
version = "0.1.0"
edition = "2021"

[dependencies]
solana-program = "1.17"
borsh = "0.10"
borsh-derive = "0.10"
spl-token = { version = "4.0", features = ["no-entrypoint"] }
spl-token-2022 = { version = "0.9", features = ["no-entrypoint"] }
spl-associated-token-account = { version = "2.2", features = ["no-entrypoint"] }
thiserror = "1.0"
num-traits = "0.2"
num-derive = "0.3"
bytemuck = "1.14"
arrayref = "0.3"
bs58 = "0.5"
fixed = "1.23.0"
bincode = "1.3"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
once_cell = "1.19"
hex = "0.4"
# API dependencies
tokio = { version = "1", features = ["full"] }
hyper = { version = "0.14", features = ["full"] }
tokio-tungstenite = "0.20"
futures-util = "0.3"
uuid = { version = "1.6", features = ["v4", "serde"] }
url = "2.5"
sha2 = "0.10"
base64 = "0.21"
hmac = "0.12"
rand = "0.8"
chrono = { version = "0.4", features = ["serde"] }

[dev-dependencies]
solana-program-test = "1.17"
solana-sdk = "1.17"

[lib]
crate-type = ["cdylib", "lib"]
name = "betting_platform_native"

[workspace]

[features]
no-entrypoint = []
test-bpf = []
api = []

[[test]]
name = "test_mmt_token"
path = "tests/test_mmt_token.rs"

[[test]]
name = "test_mmt_user_journeys"
path = "tests/test_mmt_user_journeys.rs"

[[test]]
name = "part7_e2e_tests"
path = "tests/part7_e2e_tests.rs"

[[test]]
name = "synthetics_tests"
path = "tests/synthetics_tests.rs"

[[test]]
name = "priority_queue_tests"
path = "tests/priority_queue_tests.rs"

[[test]]
name = "user_journey_tests"
path = "tests/user_journey_tests.rs"

[[test]]
name = "integration_test_runner"
path = "tests/integration_test_runner.rs"

[[test]]
name = "production_readiness_check"
path = "tests/production_readiness_check.rs"

[[test]]
name = "e2e_liquidation_coverage"
path = "tests/e2e_liquidation_coverage.rs"

[[test]]
name = "e2e_partial_liquidation"
path = "tests/e2e_partial_liquidation.rs"

[[test]]
name = "e2e_keeper_incentives"
path = "tests/e2e_keeper_incentives.rs"

[[test]]
name = "e2e_polymarket_oracle"
path = "tests/e2e_polymarket_oracle.rs"

[[test]]
name = "spec_compliance"
path = "tests/spec_compliance.rs"

[[test]]
name = "performance_benchmarks"
path = "tests/performance_benchmarks.rs"

[[test]]
name = "e2e_oracle_halt"
path = "tests/e2e_oracle_halt.rs"

[[test]]
name = "e2e_bootstrap_phase"
path = "tests/e2e_bootstrap_phase.rs"

[[test]]
name = "e2e_coverage_halt"
path = "tests/e2e_coverage_halt.rs"

[[test]]
name = "e2e_chain_unwind"
path = "tests/e2e_chain_unwind.rs"

[[test]]
name = "e2e_full_integration"
path = "tests/e2e_full_integration.rs"

[[test]]
name = "e2e_amm_tests"
path = "tests/e2e_amm_tests.rs"

[[test]]
name = "security_audit_tests"
path = "tests/security_audit_tests.rs"

[[test]]
name = "test_phase1_oracle"
path = "tests/test_phase1_oracle.rs"

[[test]]
name = "test_phase2_bootstrap"
path = "tests/test_phase2_bootstrap.rs"

[[test]]
name = "test_phase3_liquidation"
path = "tests/test_phase3_liquidation.rs"

[[test]]
name = "test_phase4_performance"
path = "tests/test_phase4_performance.rs"

[[test]]
name = "test_phase5_validation"
path = "tests/test_phase5_validation.rs"

[[test]]
name = "test_spec_compliance"
path = "tests/test_spec_compliance.rs"

[[test]]
name = "test_spec_compliance_simple"
path = "tests/test_spec_compliance_simple.rs"

[[test]]
name = "test_pnl_liquidation_comprehensive"
path = "tests/test_pnl_liquidation_comprehensive.rs"

[[test]]
name = "test_pnl_liquidation_simple"
path = "tests/test_pnl_liquidation_simple.rs"

[[test]]
name = "lmsr_optimized_math_tests"
path = "tests/amm/lmsr_optimized_math_tests.rs"

[[test]]
name = "pmamm_math_tests"
path = "tests/amm/pmamm_math_tests.rs"

[[test]]
name = "test_exp_debug"
path = "tests/amm/test_exp_debug.rs"

[[test]]
name = "test_u128f128_debug"
path = "tests/amm/test_u128f128_debug.rs"

[[test]]
name = "test_pmamm_debug"
path = "tests/amm/test_pmamm_debug.rs"

[[test]]
name = "test_swap_debug"
path = "tests/amm/test_swap_debug.rs"

[[test]]
name = "test_slippage_debug"
path = "tests/amm/test_slippage_debug.rs"

[[test]]
name = "test_polymarket_fee_integration"
path = "tests/test_polymarket_fee_integration.rs"